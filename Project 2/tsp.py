import mlrose_hiive
from base_randomization import *

def get_cv():
        cv_parameters = {
        "max_attempts": 10,
        "iteration_list": [2000],
        "restart_list": [10],
        "schedule": mlrose_hiive.GeomDecay(),
        "pop_size": 200,
        "mutation_prob": 0.2
    }
           
if __name__ == "__main__": 
    problem = "tsp"
    
    state_vectors = [i for i in range(10, 101, 10)]
    #state_vectors = [i for i in range(1, 3)]   
    fitness_list = []

    for vector in state_vectors:
        np.random.seed(vector)
        coords_list = [(np.random.uniform(-10*vector,10*vector), np.random.uniform(-10*vector,10*vector)) for _ in range(vector)]
        fitness = mlrose_hiive.TravellingSales(coords = coords_list)
        fitness_list.append(fitness)
        
    parameters = {
        "restarts": 10,
        "max_attempt": 100,
        "max_iters": 1500,
        "schedule": mlrose_hiive.GeomDecay(),
        "pop_size_genetic": 200,
        "pop_size_mimic": 200,
        "mutation_prob": 0.5,
    }
     
    oparameters = {
        "restarts": 1,
        "max_attempt": 5,
        "max_iters": 4,
        "schedule": mlrose_hiive.GeomDecay(),
        "pop_size": 200,
        "mutation_prob": 0.5,
    }
    randomization(problem, fitness_list, state_vectors, parameters, maximize = False, isTSP = True)


'''
best_fitness: [[640.5501896439824, 1750.1880171948221, 3389.9515943937836, 6228.521609771546, 9517.28379861157, 14014.251134757504, 21638.812994396212, 24656.549057051285, 33616.094040039476, 40931.51935948752], [640.5501896439825, 2129.4229689609847, 4665.298114640276, 8972.821685844765, 10964.704850164107, 17519.50228908362, 20275.187371288997, 28832.521971380418, 38715.59423025963, 42732.16881552876], [640.5501896439824, 1468.583972527762, 3224.3410271397993, 4771.775409372742, 7083.642574405153, 10099.287363133444, 12176.889202972372, 15275.435270695345, 18396.893954367624, 22891.409357641973], [687.4157076493954, 2472.150550549551, 5594.184639104309, 11710.085437409398, 21172.350090245534, 31134.34607828553, 43521.11600254206, 57286.257844206586, 71651.4003549492, 91563.20629291631]] 

time_elapsed: [[0.12384414672851562, 0.2973313331604004, 0.48604536056518555, 0.7015769481658936, 0.8875370025634766, 1.2751891613006592, 1.3692591190338135, 1.815345048904419, 2.059292793273926, 2.412827968597412], [0.011807918548583984, 0.04994606971740723, 0.04288601875305176, 0.0287630558013916, 0.14851593971252441, 0.10908317565917969, 0.14070487022399902, 0.18025493621826172, 0.16149687767028809, 0.23676490783691406], [2.368903160095215, 4.345279932022095, 10.65731406211853, 21.133460998535156, 23.336906909942627, 37.795079946517944, 83.5794472694397, 101.89858627319336, 119.92583894729614, 130.76346397399902], [12.160223245620728, 31.12114715576172, 61.11433506011963, 96.94183921813965, 123.87602186203003, 171.62466597557068, 229.16285705566406, 335.0778911113739, 435.5957899093628, 562.500599861145]] 
'''